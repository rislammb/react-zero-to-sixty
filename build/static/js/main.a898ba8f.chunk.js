(this["webpackJsonpzero-to-sixty"]=this["webpackJsonpzero-to-sixty"]||[]).push([[0],{36:function(e,t,a){e.exports=a(65)},60:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(28),l=a.n(r),o=a(10),i=a(7),s=a(6),u=a.n(s),m=(a(58),a(59),a(60),function(){return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("div",{className:"container"},c.a.createElement(o.b,{to:"/",className:"brand-logo"},"React Starter"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement(o.b,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(o.b,{to:"/about"},"About"))))))}),d=a(31),b=a(32),p=a(34),f=a(33),v=a(35),E=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={pageTitle:"The about page"},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.setState({pageTitle:"About page"})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h2",null,this.state.pageTitle))}}]),t}(n.Component),h=a(16),y=a(8),O=a(15);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var j=function(e){var t=e.addPost,a=e.editingPost,r=Object(n.useState)(!1),l=Object(y.a)(r,2),o=l[0],i=l[1],s=Object(n.useState)({title:"",body:""}),m=Object(y.a)(s,2),d=m[0],b=m[1],p=Object(n.useState)({}),f=Object(y.a)(p,2),v=f[0],E=f[1],h=function(e){b(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},d,Object(O.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){b(a)}),[a]),c.a.createElement(n.Fragment,null,o?c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"indeterminate"})):c.a.createElement("form",{className:"push-in",onSubmit:function(e){e.preventDefault(),i(!0),function(){var e={};return""===d.title.trim()&&(e.title="Title must not be empty"),""===d.body.trim()&&(e.body="Body must not be empty"),!(Object.keys(e).length>0)||(E(e),!1)}()?(E({}),d.id?u.a.put("/post/".concat(d.id),d).then((function(e){t(e.data),b({title:"",body:""}),i(!1)})).catch((function(e){return console.error(e)})):u.a.post("/post",d).then((function(e){t(e.data),b({title:"",body:""}),i(!1)})).catch((function(e){return console.error(e)}))):i(!1)}},c.a.createElement("div",{className:"input-field"},c.a.createElement("label",{htmlFor:"title"},"Title"),c.a.createElement("input",{type:"text",name:"title",value:d.title,onChange:h,className:v.title&&"invalid"}),c.a.createElement("span",{class:"helper-text"},v.title)),c.a.createElement("div",{className:"input-field"},c.a.createElement("label",{htmlFor:"body"},"Body"),c.a.createElement("input",{type:"text",name:"body",value:d.body,onChange:h,className:v.body&&"invalid"}),c.a.createElement("span",{class:"helper-text"},v.body)),c.a.createElement("button",{type:"submit",className:"waves-effect waves-light btn"},d.id?"Update":"Add")))},w=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(5),o=Object(y.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)({title:"",body:"",id:null}),d=Object(y.a)(m,2),b=d[0],p=d[1],f=function(e){p(e)},v=function(e){u.a.delete("/post/".concat(e)).then((function(){var t=a.filter((function(t){return t.id!==e}));r(t)}))};return Object(n.useEffect)((function(){u.a.get("/posts").then((function(e){r(e.data)})).catch((function(e){return console.error(e)}))}),[]),c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s8"},c.a.createElement(j,{addPost:function(e){if(a.find((function(t){return t.id===e.id}))){var t=a.findIndex((function(t){return t.id===e.id})),n=Object(h.a)(a);n.splice(t,1,e),r(n)}else{var c=[e].concat(Object(h.a)(a));r(c)}},editingPost:b})),c.a.createElement("div",{class:"col s3 push-in"},c.a.createElement("p",null,"Limit number of posts"),c.a.createElement("input",{type:"number",value:i,onChange:function(e){return s(e.target.value)}}),c.a.createElement("button",{className:"waves-effect waves-light btn",onClick:function(){u.a.get("/posts/".concat(i)).then((function(e){return r(e.data)})).catch((function(e){return console.error(e)}))}},"Set"))),c.a.createElement("div",{className:"row"},a.map((function(e){return c.a.createElement("div",{className:"col s12 m6",key:e.id},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"card-title"},e.title),c.a.createElement("p",{className:"timestamp"},e.createdAt),c.a.createElement("p",null,e.body)),c.a.createElement("div",{className:"card-action"},c.a.createElement("a",{href:"#",onClick:f.bind(null,e)},"Edit"),c.a.createElement("a",{href:"#",onClick:v.bind(null,e.id),className:"delete-btn"},"Delete"))))}))))};u.a.defaults.baseURL="https://ndb99xkpdk.execute-api.eu-west-2.amazonaws.com/dev";var N=function(){return c.a.createElement(o.a,null,c.a.createElement(m,null),c.a.createElement("div",{className:"container"},c.a.createElement(i.a,{exact:!0,path:"/",component:w}),c.a.createElement(i.a,{exact:!0,path:"/about",component:E})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.a898ba8f.chunk.js.map